<h2>All Users</h2>
<div *ngIf="error" class="error">{{ error }}</div>
<ul class="user-rent-list">
  <li *ngFor="let user of users$ | async">
    {{ user.firstName }} {{ user.lastName }} ({{ user.email }}) - Admin: {{ user.admin ? 'Yes' : 'No' }}
    <ul>
      <li *ngFor="let rent of user.rented">
        <b>{{ rent.carBrand }} {{ rent.carModel }}</b>
        <span [class]="rent.carStatus.toLowerCase()">{{ rent.carStatus }}</span>
        <button *ngIf="rent.carStatus !== 'RETURNED'" (click)="returnCar(rent.id)">Return</button>
        <button *ngIf="rent.carStatus === 'RETURNED'" disabled>Return</button>
      </li>
    </ul>
  </li>
</ul>

<form (ngSubmit)="createUser()">
  <h3>Create New User</h3><br>
  <input [(ngModel)]="firstName" name="firstName" placeholder="First Name" required />
  <input [(ngModel)]="lastName" name="lastName" placeholder="Last Name" required />
  <input [(ngModel)]="email" name="email" placeholder="Email" required type="email" />
  <input [(ngModel)]="password" name="password" type="password" placeholder="Password" required />
  <button type="submit">Create User</button>
</form>
<div *ngIf="createError" class="error">{{ createError }}</div>
<div *ngIf="createSuccess" style="color: green; font-weight:bold;">User created successfully!</div>
